# Irshad Center Environment Variables
# Copy this file to .env and fill in the values

# ═══════════════════════════════════════════════════════════════
# DATABASE
# ═══════════════════════════════════════════════════════════════
DATABASE_URL="postgresql://user:password@host:6543/database?pgbouncer=true"
DIRECT_URL="postgresql://user:password@host:5432/database"

# ═══════════════════════════════════════════════════════════════
# MAHAD (Main Stripe Account)
# Pattern: STRIPE_MAHAD_{TYPE}_{ENV}
# ═══════════════════════════════════════════════════════════════

# Server-side keys (never exposed to browser)
STRIPE_MAHAD_SECRET_KEY_TEST=sk_test_xxx        # Test mode secret key
STRIPE_MAHAD_SECRET_KEY_LIVE=sk_live_xxx        # Live mode secret key
STRIPE_MAHAD_WEBHOOK_SECRET_TEST=whsec_xxx      # Test webhook signing secret
STRIPE_MAHAD_WEBHOOK_SECRET_LIVE=whsec_xxx      # Live webhook signing secret
STRIPE_MAHAD_PRODUCT_ID_TEST=prod_xxx            # Mahad product ID (test mode)
STRIPE_MAHAD_PRODUCT_ID_LIVE=prod_xxx            # Mahad product ID (live mode)

# Client-side keys (NEXT_PUBLIC_ prefix = accessible in browser)
NEXT_PUBLIC_STRIPE_MAHAD_PUBLISHABLE_KEY_TEST=pk_test_xxx
NEXT_PUBLIC_STRIPE_MAHAD_PUBLISHABLE_KEY_LIVE=pk_live_xxx
NEXT_PUBLIC_STRIPE_MAHAD_PRICING_TABLE_ID=prctbl_xxx

# ═══════════════════════════════════════════════════════════════
# DUGSI (Separate Stripe Account)
# Pattern: STRIPE_DUGSI_{TYPE}_{ENV}
# ═══════════════════════════════════════════════════════════════

# Server-side keys
STRIPE_DUGSI_SECRET_KEY_TEST=sk_test_xxx        # Optional - falls back to LIVE if not set
STRIPE_DUGSI_SECRET_KEY_LIVE=sk_live_xxx
STRIPE_DUGSI_WEBHOOK_SECRET_TEST=whsec_xxx      # Optional - falls back to LIVE if not set
STRIPE_DUGSI_WEBHOOK_SECRET_LIVE=whsec_xxx
STRIPE_DUGSI_PRODUCT_ID_TEST=prod_xxx            # Dugsi product ID (test mode)
STRIPE_DUGSI_PRODUCT_ID_LIVE=prod_xxx            # Dugsi product ID (live mode)

# Client-side keys
NEXT_PUBLIC_STRIPE_DUGSI_PUBLISHABLE_KEY_TEST=pk_test_xxx  # Optional
NEXT_PUBLIC_STRIPE_DUGSI_PUBLISHABLE_KEY_LIVE=pk_live_xxx
NEXT_PUBLIC_STRIPE_DUGSI_PAYMENT_LINK=https://buy.stripe.com/xxx

# ═══════════════════════════════════════════════════════════════
# YOUTH (Future - defaults to MAHAD account)
# ═══════════════════════════════════════════════════════════════
# STRIPE_YOUTH_SECRET_KEY_TEST=sk_test_xxx
# STRIPE_YOUTH_SECRET_KEY_LIVE=sk_live_xxx
# STRIPE_YOUTH_WEBHOOK_SECRET_TEST=whsec_xxx
# STRIPE_YOUTH_WEBHOOK_SECRET_LIVE=whsec_xxx

# ═══════════════════════════════════════════════════════════════
# DONATION (Future - defaults to MAHAD account)
# ═══════════════════════════════════════════════════════════════
# STRIPE_DONATION_SECRET_KEY_TEST=sk_test_xxx
# STRIPE_DONATION_SECRET_KEY_LIVE=sk_live_xxx
# STRIPE_DONATION_WEBHOOK_SECRET_TEST=whsec_xxx
# STRIPE_DONATION_WEBHOOK_SECRET_LIVE=whsec_xxx

# ═══════════════════════════════════════════════════════════════
# WHATSAPP CLOUD API
# ═══════════════════════════════════════════════════════════════
WHATSAPP_PHONE_NUMBER_ID=                # From Meta Business Dashboard
WHATSAPP_ACCESS_TOKEN=                   # System User token with whatsapp_business_messaging permission
WHATSAPP_APP_SECRET=                     # App Secret for webhook signature verification
WHATSAPP_WEBHOOK_VERIFY_TOKEN=           # Random string for webhook verification challenge

# ═══════════════════════════════════════════════════════════════
# APP CONFIG
# ═══════════════════════════════════════════════════════════════
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ═══════════════════════════════════════════════════════════════
# FEATURE FLAGS
# ═══════════════════════════════════════════════════════════════
# Toggle features without redeploying. Changes take effect immediately.
# See lib/config/feature-flags.ts for all available flags.
#
# VERCEL SETUP:
#   1. Go to Project Settings > Environment Variables
#   2. Add the flag with value 'true' to enable
#   3. Remove or set to any other value to disable
#   4. Changes apply immediately (no redeploy needed for serverless)
#
# MAHAD_CARD_PAYMENTS_ENABLED=true   # Allow card payments for Mahad (default: ACH only)
# DUGSI_CARD_PAYMENTS_ENABLED=true   # Allow card payments for Dugsi (default: ACH only)

# ═══════════════════════════════════════════════════════════════
# SENTRY ERROR TRACKING
# ═══════════════════════════════════════════════════════════════
# DSN for error reporting (required for Sentry to work)
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
NEXT_PUBLIC_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# Organization and project for source maps (required for readable stack traces)
SENTRY_ORG=your-org
SENTRY_PROJECT=irshad-center

# Optional: Set release version (usually set by CI/CD)
# SENTRY_RELEASE=1.0.0

# Optional: Enable debug logging in development
# SENTRY_DEBUG=true
# NEXT_PUBLIC_SENTRY_DEBUG=true

# ═══════════════════════════════════════════════════════════════
# AXIOM LOG AGGREGATION
# ═══════════════════════════════════════════════════════════════
# Required for next-axiom logging (https://axiom.co/docs/send-data/nextjs)
NEXT_PUBLIC_AXIOM_DATASET=irshad-center
NEXT_PUBLIC_AXIOM_TOKEN=xaat-xxx
